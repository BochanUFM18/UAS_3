"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8031],{57020:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Cy:function(){return p},Ev:function(){return f},ij:function(){return d}});var o="&",a="tr=",u=function(e){return null!==e&&0!==e&&!isNaN(Number(e))&&isFinite(e)};function c(e,t){if(e.includes("dpr-"))return e.replace(/dpr-./,"dpr-".concat(t));if(e.includes("tr="))return e.replace(/tr=/,"tr=dpr-".concat(t,","));var n=(e.includes("?")?"&":"?")+"tr=dpr-"+t;return"".concat(e).concat(n)}function l(e){return e.includes(a)}function s(e){if(!l(e))return e;var t=e.indexOf(a),n=e[t-1],r=e.indexOf(o,t);r=-1!==r&&"?"===n?r:e.length;var i=e.substring(t,r),u=i.indexOf(o);if(-1!==u){var c=i.substring(u,i.length);i=i.replace(c,"")}var d=e.includes(o)?e.replace(i+o,""):e.replace("?"+i,"");return(d=d.replace("&"+i,"")).includes(a)?s(d):d}function d(e,t){if(!e)return"";if(!e.includes("imagekit.io"))return e;var n=e,r=function(e){var t={};if(!l(e))return null;var n=e.indexOf(a),r=e.indexOf(o,n);r=-1!==r?r:e.length;var i=a.length,u=e.substring(n+i,r);if(""!==u)for(var c=u.split(","),s=0;s<c.length;s++){var d=c[s].split("-");if(null!==d){var f=String("".concat(d[0])),p=String("".concat(d[1]));t[f]=p}}return t}(e),i=null!==r?r:{};if(null!==t){for(var u in t)null!==t[u]&&"undefined"!==typeof t[u]&&"undefined"!==String(t[u])&&(i[u]=String(t[u]));n=s(e)}var c=Object.keys(i).sort();if(0!==c.length){var d="",f=!0,p=!1,v=void 0;try{for(var g,m=c[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var h=g.value;d+=h+"-"+i[h]+","}}catch(y){p=!0,v=y}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}d=d.substring(0,d.length-1);var b=n.includes("?")?"&":"?";return"".concat(n).concat(b,"tr=").concat(d)}return n}function f(e,t,n){var r=function(e,t,n){var r={};return u(t)&&(r.w=String(t)),u(n)&&(r.h=String(n)),d(e,r)}(e,t,n);return{srcSet:"".concat(r," 1x, ").concat(c(r,2)," 2x, ").concat(c(r,3)," 3x"),src:r}}function p(e){var t=i(e.split("?"),2),n=(t[0],t[1]);if(!n)return{};var r=n.split("&").find((function(e){return e.startsWith("tr=")}));if(!r)return{};var o,a,u=r.replace("tr=","").split(",")||[],c=u.find((function(e){return e.startsWith("w-")})),l=u.find((function(e){return e.startsWith("h-")}));return c&&(o=parseInt(c.replace("w-",""),10)),l&&(a=parseInt(l.replace("h-",""),10)),{width:o,height:a}}},8031:function(e,t,n){var r=n(74512),i=n(32735),o=n(44420),a=n(28421),u=n(34405);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(e){var t=e.params,n=s(e,["params"]),c=o.ZP.get(u.$N.COOKIE_KEY),d=(0,i.useMemo)((function(){return l({accessCode:c},t)}),[c,t]);return(0,r.jsx)(a.Z,l({},n,{params:d}))}},15856:function(e,t,n){n.d(t,{n:function(){return i},u:function(){return r}});var r="/v2/merchandising/page/content",i="/v2/merchandising/section/content"},28421:function(e,t,n){n.d(t,{Z:function(){return Se}});var r,i=n(5001),o=n.n(i),a=n(74512),u=n(32735),c=n(87904),l=n(52423),s=n(34599),d=n(15905),f=n(21276),p=n(75816),v=n(80604),g=n(42530),m=n(85656),h=n(55721),b=n(84985),y=n(60329),I=n(24547);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function S(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.LOAD_PAGE,payload:e}}function j(e){return{type:r.LOAD_PAGE_SUCCESS,payload:e}}function E(){return{type:r.LOAD_PAGE_FAILED}}function A(e,t){switch(t.type){case r.INIT_PAGE:return x({},e,t.payload);case r.LOAD_PAGE:return x({},e,t.payload,{state:"loading"});case r.LOAD_PAGE_SUCCESS:var n=t.payload,i=n.endOfCollections,o=n.requestId,a=n.sections;return{state:"loaded",isFirstFetch:!1,page:e.page+1,endOfCollections:i,sections:e.sections.concat(a.map((function(e){return x({},e,{requestId:o})})))};case r.LOAD_FILTER:var u=t.payload.endOfItems;return x({},e,{state:"loaded",isFirstFetch:!1,page:e.page,endOfCollections:u,sections:[t.payload]});case r.LOAD_NEXT_PAGE:var c=t.payload,l=c.items,s=c.endOfItems,d=c.currentSectionId;return x({},e,{state:"loaded",isFirstFetch:!1,page:e.page+1,endOfCollections:s,sections:e.sections.map((function(e){var t=x({},e);return e.sectionId===d&&(t.items=S(t.items).concat(S(l))),t}))});case r.LOAD_PAGE_FAILED:return x({},e,{state:"error",isFirstFetch:!1});default:return e}}!function(e){e.INIT_PAGE="merch.init",e.LOAD_PAGE="merch.load",e.LOAD_PAGE_SUCCESS="merch.success",e.LOAD_PAGE_FAILED="merch.failed",e.LOAD_FILTER="merch.load_filter",e.LOAD_NEXT_PAGE="merch.load_next_page"}(r||(r={}));var k=n(15856),C=n(52789);function D(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(l){return void n(l)}u.done?t(c):Promise.resolve(c).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){D(o,r,i,a,u,"next",e)}function u(e){D(o,r,i,a,u,"throw",e)}a(void 0)}))}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}function G(e){var t=e.storefront,n=e.pageName,i=e.params,a=e.page,c=e.sectionsPerPage,l=e.initialSections,s=e.isSSRDataAvailable,d=e.isSSRDataComplete,f=e.sectionId,p=e.itemsPerPage,v=(0,m.U8)(),g=(0,h.yG)(),w={state:"undefined"!==typeof l?"loaded":"loading",isFirstFetch:"undefined"===typeof l,endOfCollections:!1,sections:null!==l&&void 0!==l?l:[],page:a},O=(0,u.useRef)(),x=(0,u.useRef)(""),S=(0,u.useReducer)(A,w),D=S[0],G=S[1],_=(0,b.Z)({path:f?k.n:k.u,method:"post",domain:"mch",headers:{"mch-api-version":"2.0.0"}}),N=(0,b.Z)({path:k.n,method:"post",domain:"mch",headers:{"mch-api-version":"2.0.0"}}),F=(0,u.useState)("mobile"===g&&!D.endOfCollections),R=F[0],U=F[1],M=(0,u.useCallback)(function(){var e=Z(o().mark((function e(r){var a,u,l,m,h,b,w,O,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!d){e.next=3;break}return e.abrupt("return");case 3:return G(P()),e.prev=5,e.next=8,(0,y.uJ)();case 8:h=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),I.Z.debug("Failed to get current location",{err:e.t0});case 14:return O={data:{storefront:t,pageName:n,pagination:{itemsPerPage:p,sectionsPerPage:c,page:r},params:T({activeCurrencyId:v.code,currentLongitude:null!==(b=null===h||void 0===h?void 0:h.longitude)&&void 0!==b?b:null,currentLatitude:null!==(w=null===h||void 0===h?void 0:h.latitude)&&void 0!==w?w:null},i)}},f&&(O.data.sectionId=f),e.next=19,_(O);case 19:(x=e.sent).success&&(null===x||void 0===x||null===(a=x.result)||void 0===a||null===(u=a.data)||void 0===u?void 0:u.sections)?G(j((0,C.ZP)(x.result.data,g))):x.success&&f&&(null===x||void 0===x||null===(l=x.result)||void 0===l||null===(m=l.data)||void 0===m?void 0:m.items)?G(j((0,C.ZP)({sections:[x.result.data]},g))):G(E());case 21:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),[t,n,v.code,c,G]);(0,u.useEffect)((function(){var e;!1!==w.isFirstFetch||2!==w.page?M(w.page):G((e=w,{type:r.INIT_PAGE,payload:e}))}),[M,w.page]);var W=function(){var e=Z(o().mark((function e(a){var u,c,l,s,d,m,h,b,w,S,P,j,A;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),c=null!==f&&void 0!==f?f:a,e.prev=4,e.next=7,(0,y.uJ)();case 7:l=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),I.Z.debug("Failed to get current location",{err:e.t0});case 13:return m={data:{storefront:t,pageName:n,sectionId:c,sectionFilter:x.current,params:T({activeCurrencyId:v.code,currentLongitude:null!==(s=null===l||void 0===l?void 0:l.longitude)&&void 0!==s?s:null,currentLatitude:null!==(d=null===l||void 0===l?void 0:l.latitude)&&void 0!==d?d:null},i),pagination:{itemsPerPage:p,page:(null===(u=O.current)||void 0===u?void 0:u[x.current].page)||D.page}}},e.next=17,N(m);case 17:(h=e.sent).success?(j=h.result.data.endOfItems,(A=null===(b=O.current)||void 0===b?void 0:b[x.current])&&(O.current=T({},O.current,L({},x.current,{endOfItems:j,page:A.page}))),j&&U(!1),(null===h||void 0===h||null===(w=h.result)||void 0===w||null===(S=w.data)||void 0===S||null===(P=S.items)||void 0===P?void 0:P.length)>0&&G((o=T({},(0,C.ZP)({sections:[h.result.data]},g).sections[0],{currentSectionId:c}),{type:r.LOAD_NEXT_PAGE,payload:o})),U(!1)):(U(!1),G(E()));case 19:case"end":return e.stop()}var o}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Z(o().mark((function e(a,u,l){var s,d,m,h,b,w,S,P,j,A,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current=a,U(!1),e.prev=3,e.next=6,(0,y.uJ)();case 6:s=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),I.Z.debug("Failed to get current location",{err:e.t0});case 12:return h={data:{storefront:t,pageName:n,sectionFilter:a,sectionId:null!==f&&void 0!==f?f:l,params:T({activeCurrencyId:v.code,currentLongitude:null!==(d=null===s||void 0===s?void 0:s.longitude)&&void 0!==d?d:null,currentLatitude:null!==(m=null===s||void 0===s?void 0:s.latitude)&&void 0!==m?m:null},i),pagination:{itemsPerPage:p,page:u,sectionsPerPage:c}}},e.next=16,N(h);case 16:(b=e.sent).success?(k=b.result.data.endOfItems,O.current=T({},O.current,L({},x.current,{endOfItems:k,page:1})),!0===(null===(w=O.current)||void 0===w||null===(S=w[x.current])||void 0===S?void 0:S.endOfItems)&&U(!1),(null===b||void 0===b||null===(P=b.result)||void 0===P||null===(j=P.data)||void 0===j||null===(A=j.items)||void 0===A?void 0:A.length)>0&&G((o=(0,C.ZP)({sections:[b.result.data]},g).sections[0],{type:r.LOAD_FILTER,payload:o}))):(U(!1),G(E()));case 18:case"end":return e.stop()}var o}),e,null,[[3,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),q=(0,u.useCallback)((function(){M(D.page)}),[M,D.page]),K=function(){var e,t=x.current;if(t)if(null===(e=O.current)||void 0===e?void 0:e[t]){var n=O.current[t];O.current=T({},O.current,L({},t,{endOfItems:!1,page:n.page+=1}))}else O.current=T({},O.current,L({},t,{endOfItems:!1,page:2}))};return[D,q,W,R,B]}var _=(0,u.createContext)({});function N(e,t,n){return n?e+"@"+t+"@"+n:e+"@"+t}var F=n(6907),R=n(28192),U=n(67091),M=F.Z.create({container:{width:"100%",alignItems:"flex-start",marginTop:U.Z.spacing.s,marginBottom:U.Z.spacing.xl,paddingHorizontal:U.Z.spacing.m},subtitle:{marginTop:U.Z.spacing.xs},contentWrapper:{width:"calc(100% + ".concat(U.Z.spacing.m,"px)"),flexDirection:"row",overflow:"hidden",marginTop:U.Z.spacing.s},content:{marginRight:U.Z.spacing.s}});function W(e){return(0,a.jsxs)(c.Z,{style:[M.container,e.style],testID:e.testID,children:[(0,a.jsx)(R.Z,{width:"100%",height:U.Z.spacing.l}),(0,a.jsx)(R.Z,{width:"45%",height:U.Z.spacing.m,style:M.subtitle}),(0,a.jsxs)(c.Z,{style:M.contentWrapper,children:[(0,a.jsx)(R.Z,{width:"calc(75% - ".concat((U.Z.spacing.m+U.Z.spacing.s)/2,"px)"),height:120,style:M.content}),(0,a.jsx)(R.Z,{width:"calc(75% - ".concat((U.Z.spacing.m+U.Z.spacing.s)/2,"px)"),height:120})]})]})}var B=F.Z.create({container:{alignItems:"center",marginVertical:U.Z.spacing.l},content:{marginBottom:U.Z.spacing.s+U.Z.spacing.m,marginTop:U.Z.spacing.s+U.Z.spacing.m},subtitle:{marginTop:U.Z.spacing.s}});function q(e){var t=e.style,n=e.testID,r=t&&t.horizontalAlignment||"CENTER",i={LEFT:"flex-start",CENTER:"center",RIGHT:"flex-end"},o=i[r],u=i[{LEFT:"RIGHT",CENTER:"CENTER",RIGHT:"LEFT"}[r]];return(0,a.jsxs)(c.Z,{style:[B.container,t,{alignItems:o}],testID:n,children:[(0,a.jsx)(R.Z,{width:"20%",height:U.Z.spacing.l}),(0,a.jsx)(R.Z,{width:"25%",height:U.Z.spacing.l,style:B.subtitle}),(0,a.jsx)(R.Z,{height:"25%",width:"100%",style:B.content}),(0,a.jsx)(R.Z,{style:{alignSelf:u},height:U.Z.spacing.l,width:"15%"})]})}function K(e){var t=e.skeletons,n=void 0===t?6:t,r=e.wrapperStyle,i=void 0===r?{}:r,o=e.testID,u=(0,h.yG)(),l=new Array(n).fill(n),s="mobile"===u?W:q;return(0,a.jsx)(c.Z,{style:i,testID:"merch-skeleton",children:l.map((function(e,t){return(0,a.jsx)(s,{testID:o},"merch-skeleton-".concat(t))}))})}var V=n(92737),z=n.n(V),H=n(42817),$=n(93587),J=n(42273),X=F.Z.create({noIOButtonWrapper:{width:"100%",alignItems:"center",alignContent:"center",justifyContent:"center",marginVertical:U.Z.spacing.xl}});function Y(e){var t=(0,u.useRef)(null);return(0,u.useEffect)((function(){if(J.R){var n=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&e.fetch()}))}),{threshold:.5});if(t&&t.current){var r=t.current;n.observe(r)}return function(){return n.disconnect()}}}),[]),J.R?(0,a.jsx)(c.Z,{pointerEvents:"none",ref:t,testID:e.testID,style:{position:"absolute",left:0,bottom:0,height:"10vh",width:"100%"}}):(0,a.jsx)(c.Z,{style:X.noIOButtonWrapper,children:(0,a.jsx)(H.Z,{IconStart:function(){return(0,a.jsx)($.Z,{src:z(),width:U.Z.spacing.m,height:U.Z.spacing.m})},onPress:function(){return e.fetch()},testID:e.testID,accessibilityLabel:"Show more"})})}var Q=n(63857),ee=F.Z.create({loadingIndicatorWrapper:{width:"100%",alignItems:"center",alignContent:"center",justifyContent:"center",marginVertical:U.Z.spacing.l}});function te(){return"mobile"===(0,h.yG)()?null:(0,a.jsx)(c.Z,{style:ee.loadingIndicatorWrapper,children:(0,a.jsx)(Q.Z,{})})}var ne=n(46582),re=n(57020);function ie(e){var t=new Set;return e.sections.slice(0,3).forEach((function(e){return e.items.slice(0,2).forEach((function(e){e.attributes.backgroundImage&&!t.has(e.attributes.backgroundImage)&&t.add(e.attributes.backgroundImage),e.itemDetail&&e.itemDetail.imageUrl&&!t.has(e.itemDetail.imageUrl)&&t.add(e.itemDetail.imageUrl)}))})),(0,a.jsx)(ne.default,{children:Array.from(t).map((function(e){var t=e.includes("imagekit.io")?(0,re.Ev)(e):{src:e,srcSet:void 0};return(0,a.jsx)("link",{rel:"preload",as:"image",href:t.srcSet?void 0:t.src,imagesrcset:t.srcSet},"mch-img-"+t.src+(t.srcSet||""))}))})}var oe=n(82070),ae={GRID:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5546),n.e(7172),n.e(636)]).then(n.bind(n,90636))}),{loadableGenerated:{webpack:function(){return[90636]}},loading:function(){return(0,a.jsx)(q,{})}}),FULL_BANNER:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5546),n.e(967)]).then(n.bind(n,70967))}),{loadableGenerated:{webpack:function(){return[70967]}},loading:function(){return(0,a.jsx)(q,{})}}),IMAGE_CAROUSEL:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5546),n.e(7172),n.e(8132)]).then(n.bind(n,48132))}),{loadableGenerated:{webpack:function(){return[48132]}},loading:function(){return(0,a.jsx)(q,{})}}),TITLE:(0,oe.default)((function(){return Promise.all([n.e(5546),n.e(7270)]).then(n.bind(n,36621))}),{loadableGenerated:{webpack:function(){return[36621]}},loading:function(){return(0,a.jsx)(q,{})}}),ARTICLE_LIST:(0,oe.default)((function(){return Promise.all([n.e(5546),n.e(1463)]).then(n.bind(n,46157))}),{loadableGenerated:{webpack:function(){return[46157]}},loading:function(){return(0,a.jsx)(q,{})}}),GOOGLE_ADS:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(5546),n.e(168)]).then(n.bind(n,50168))}),{loadableGenerated:{webpack:function(){return[50168]}},loading:function(){return(0,a.jsx)(q,{})}})},ue={TITLE:(0,oe.default)((function(){return n.e(6973).then(n.bind(n,6973))}),{loadableGenerated:{webpack:function(){return[6973]}},loading:function(){return(0,a.jsx)(W,{})}}),FULL_BANNER:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5888),n.e(3225)]).then(n.bind(n,73225))}),{loadableGenerated:{webpack:function(){return[73225]}},loading:function(){return(0,a.jsx)(W,{})}}),GRID:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5888),n.e(4746),n.e(8988)]).then(n.bind(n,28988))}),{loadableGenerated:{webpack:function(){return[28988]}},loading:function(){return(0,a.jsx)(W,{})}}),IMAGE_CAROUSEL:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(5888),n.e(4746),n.e(5003)]).then(n.bind(n,5003))}),{loadableGenerated:{webpack:function(){return[5003]}},loading:function(){return(0,a.jsx)(W,{})}}),CTA_CAROUSEL:(0,oe.default)((function(){return Promise.all([n.e(3801),n.e(546),n.e(9008)]).then(n.bind(n,39008))}),{loadableGenerated:{webpack:function(){return[39008]}},loading:function(){return(0,a.jsx)(W,{})}}),GROUPED_LIST:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(3801),n.e(3318)]).then(n.bind(n,93318))}),{loadableGenerated:{webpack:function(){return[93318]}},loading:function(){return(0,a.jsx)(W,{})}}),ARTICLE_LIST:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(4642)]).then(n.bind(n,70863))}),{loadableGenerated:{webpack:function(){return[70863]}},loading:function(){return(0,a.jsx)(q,{})}}),CARD_LIST:(0,oe.default)((function(){return Promise.all([n.e(3801),n.e(2734)]).then(n.bind(n,52734))}),{loadableGenerated:{webpack:function(){return[52734]}},loading:function(){return(0,a.jsx)(W,{})}}),GOOGLE_ADS:(0,oe.default)((function(){return Promise.all([n.e(7034),n.e(2187)]).then(n.bind(n,12187))}),{loadableGenerated:{webpack:function(){return[12187]}},loading:function(){return(0,a.jsx)(W,{})}})};function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function de(e){var t=e.sections,n=void 0===t?[]:t,r=e.events,i=se(e,["sections","events"]),o=(0,h.yG)();return(0,a.jsx)(c.Z,{testID:"merch-section",children:n.map((function(e){var t=e.sectionId,n=(e.style||{}).type,u={onContentSeen:function(t){return r.onContentSeen(e,t)},onContentClick:function(t){return r.onContentClick(e,t)},onLoadSubSection:function(t){return r.onLoadSubSection(e,t)},onNavigate:function(e){return r.onNavigate(e)},onLoadNextItem:function(e,t){var n;return null===(n=r.onLoadNextItem)||void 0===n?void 0:n.call(r,e,t)},onLoadItemsWithFilter:function(e,t,n){var i;return null===(i=r.onLoadItemsWithFilter)||void 0===i?void 0:i.call(r,e,t,n)}};if("desktop"===o&&ae[n]){var c=ae[n];return(0,a.jsx)(c,le({},i,e,u,{sectionId:t}),t)}if("mobile"===o&&ue[n]){var l=ue[n];return(0,a.jsx)(l,le({},i,e,u,{sectionId:t}),t)}return null}))})}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t,n,r,i,o,a){try{var u=e[o](a),c=u.value}catch(l){return void n(l)}u.done?t(c):Promise.resolve(c).then(r,i)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pe(o,r,i,a,u,"next",e)}function u(e){pe(o,r,i,a,u,"throw",e)}a(void 0)}))}}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}var Ie=new l.UAParser,we="merchandising",Oe=null,xe=[];function Se(e){var t=function(e,t){var n,r=oe.findIndex((function(t){return t.sectionId===e.sectionId})),i=((null===t||void 0===t?void 0:t.activeFilter)?e.items.filter((function(e){return e.filter.includes(null===t||void 0===t?void 0:t.activeFilter)})):e.items).findIndex((function(e){return e.id===(null===t||void 0===t?void 0:t.id)}));return{sectionId:e.sectionId,sectionName:e.sectionName,widget:e.style.type,position:-1===r?null:r,activeFilter:null!==(n=null===t||void 0===t?void 0:t.activeFilter)&&void 0!==n?n:null,filters:e.filters?e.filters.map((function(e,t){return{value:e.value,label:e.label,position:t}})):null,details:t&&[{productId:t.id,itemType:t.type,merchandisingId:t.merchandisingId,position:-1===i?null:i}]}},n=function(e,n,o){var a=Ie.getResult();return me({},{deviceType:a.device.type,device:J,deviceModel:a.device.model,platformVersion:a.os.version,platform:[a.os.name,a.os.version].join(" "),timezoneOffset:(new Date).getTimezoneOffset(),country:H.country,lang:H.language,currency:$.code,intf:X,currentLocation:W.current,webBrowser:a.browser.name,webBrowserVersion:a.browser.version,userAgent:navigator.userAgent,pageId:B,pageName:r,storefront:i,funnelSource:q.query.funnel_source},{clientTimestamp:Date.now(),requestId:n.requestId,eventAction:e,deeplinkUrl:o&&o.link,sections:[t(n,o)]})},r=e.pageName,i=e.storefront,l=e.params,b=e.wrapperStyle,y=e.skeletonCount,I=e.singlePageOnly,w=void 0!==I&&I,O=e.testIDs,x=void 0===O?{}:O,S=e.onResultLoaded,P=e.onMerchandisingError,j=e.initialProps,E=void 0===j?null:j,A=e.page,k=e.sectionsPerPage,C=e.itemsPerPage,D=e.sectionId,Z=function(){var e=(0,u.useContext)(_);return{getMerchandisingInitialProps:(0,u.useCallback)((function(t,n,r){var i=N(t,n,r);return e[i]}),[e])}}().getMerchandisingInitialProps,L=Z(i,r,D),T=Boolean(!E&&L),F=Boolean(T&&(null===L||void 0===L?void 0:L.endOfCollections)),R=null!==E&&void 0!==E?E:L,U=1;A?U=A:(E||L)&&(U=2);var M=6;k?M=k:E?M=E.sectionPerPage:L&&(M=L.sectionPerPage);var W=(0,u.useRef)(null),B=(0,d.C)(),q=(0,f.H)(),V=(0,p.Z)(),z=(0,v.Wn)(),H=(0,g.bU)(),$=(0,m.U8)(),J=(0,h.yG)(),X=(0,h.qr)(),Q=he(G({storefront:i,pageName:r,params:l,page:U,sectionsPerPage:M,initialSections:null===R||void 0===R?void 0:R.initialSections,isSSRDataAvailable:T,isSSRDataComplete:F,sectionId:D,itemsPerPage:C}),5),ee=Q[0],ne=ee.state,re=ee.isFirstFetch,oe=ee.sections,ae=ee.endOfCollections,ue=Q[1],ce=Q[2],le=Q[3],se=Q[4];function fe(){return(fe=ve(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n("CLICK CONTENT",t,r),e.prev=1,e.next=4,Promise.all([z("GTM","TRACK",me({event_name:we},Pe(i))),V(we,i).send()]);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function pe(){return(pe=ve(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n("LOAD SUBSECTION",t,r),e.prev=1,e.next=4,Promise.all([z("GTM","TRACK",me({event_name:we},Pe(i))),V(we,i).send()]);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(0,u.useEffect)((function(){"loaded"===ne&&"function"===typeof S?S(oe,ae):"error"===ne&&"function"===typeof P&&P()}),[ne,oe,ae]),(0,u.useEffect)((function(){(function(){return je.apply(this,arguments)})().then((function(e){W.current=e}))}),[]);var ge={onContentSeen:function(e,t){!function(e,t){xe.push(n("CONTENTS SEEN",e,t)),Oe||(Oe=window.setTimeout(ve(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee(xe),e.prev=1,e.next=4,Promise.all(t.map((function(e){return delete e.deeplinkUrl,Promise.all([z("GTM","TRACK",me({event_name:we},Pe(e))),V(we,e).send()])})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:clearTimeout(Oe),Oe=null,xe=[];case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),100))}(e,t);var r=oe.findIndex((function(t){return t.sectionId===e.sectionId}));if(ae&&r===oe.length-1){var i=he(oe.slice(-1),1)[0],a=n("END OF FEED",i);z("GTM","TRACK",me({event_name:we},Pe(a))),V(we,a).send()}},onContentClick:function(e,t){return fe.apply(this,arguments)},onLoadSubSection:function(e,t){return pe.apply(this,arguments)},onNavigate:function(e){window.location.assign(e)},onLoadNextItem:ce,onLoadItemsWithFilter:se};return(0,a.jsxs)(c.Z,{nativeID:"merchandising",children:[R&&(0,a.jsx)(ie,{sections:R.initialSections}),!re&&(0,a.jsx)(de,{sections:oe,testID:x.fvd,events:ge,isLoadingNextItem:le}),"loading"===ne&&(0,a.jsx)(K,{skeletons:null!==y&&void 0!==y?y:M,wrapperStyle:b,testID:x.skeleton}),(0,a.jsxs)(s.default,{children:[!w&&"loaded"===ne&&!ae&&(0,a.jsx)(Y,{fetch:ue,testID:x.lazyObserver}),"loading"===ne&&!re&&(0,a.jsx)(te,{})]})]})}function Pe(e){var t=["deviceType","device","deviceModel","platformVersion","platform","webBrowser","webBrowserVersion","userAgent"],n={};for(var r in e)t.includes(r)||(n[r]=e[r]);return n}function je(){return(je=ve(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.permissions){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,navigator.permissions.query({name:"geolocation"});case 4:if("granted"!==e.sent.state){e.next=7;break}return e.abrupt("return",new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,r=n.latitude,i=n.longitude;e("".concat(i,",").concat(r))}),(function(){e(null)}))})));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e){return e.reduce((function(e,t){var n=e.findIndex((function(e){return e.requestId===t.requestId}));if(n>-1){var r=e[n].sections;t.sections.forEach((function(e){var t,n,i=r.findIndex((function(t){return t.sectionId===e.sectionId}));i>-1&&e.details?null===(n=r[i].details)||void 0===n||(t=n).push.apply(t,be(e.details)):r.push(e)}))}else e.push(t);return e}),[])}},52789:function(e,t,n){n.d(t,{ZP:function(){return l}});var r=n(97703),i=n(57020);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return"string"===typeof e&&e.includes(".imgix.net/")}function c(e){return"string"===typeof e&&e.includes(".imagekit.io/")}function l(e,t){var n=function(e){return"desktop"===e?1280:414}(t),o=n;return e.sections.forEach((function(e){var t,n,a,l,d,f,p=parseFloat(null!==(f=null!==(d=null===(t=e.style)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.visibleItems)&&void 0!==d?d:null===(a=e.style)||void 0===a||null===(l=a.properties)||void 0===l?void 0:l.columns)&&void 0!==f?f:"1"),v=Math.ceil(o/p);e.items.forEach((function(e){if(u(e.attributes.backgroundImage)&&(e.attributes.backgroundImage=(0,r.am)(e.attributes.backgroundImage,{w:v})),e.itemDetail&&u(e.itemDetail.imageUrl)&&(e.itemDetail.imageUrl=(0,r.am)(e.itemDetail.imageUrl,{w:v})),c(e.attributes.backgroundImage)){var t=s(e.attributes.backgroundImage),n=t.height?Math.ceil(t.height*v/t.width):void 0;e.attributes.backgroundImage=(0,i.ij)(e.attributes.backgroundImage,{w:v,h:n})}if(e.itemDetail&&c(e.itemDetail.imageUrl)){var o=s(e.itemDetail.imageUrl),a=o.height?Math.ceil(o.height*v/o.width):void 0;e.itemDetail.imageUrl=(0,i.ij)(e.itemDetail.imageUrl,{itemWidth:v,h:a})}}))})),e}function s(e){var t=a(e.split("?"),2),n=(t[0],t[1]);if(!n)return{};var r,i=n.split("&").find((function(e){return e.startsWith("tr=")}));if(!i)return{};var o,u,c=null!==(r=i.replace("tr=","").split(","))&&void 0!==r?r:[],l=c.find((function(e){return e.startsWith("w-")})),s=c.find((function(e){return e.startsWith("h-")}));return l&&(o=parseInt(l.replace("w-",""),10)),s&&(u=parseInt(s.replace("h-",""),10)),{width:o,height:u}}}}]);