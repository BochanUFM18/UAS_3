"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6303],{48023:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(74512),i=n(32735),o=n(9959),a=n(87904),l=n(6907),c=n(63857),u=n(11906),s=n(9002),d=n(67091),f=n(41914),y=n(51080),p=n(92429),b=n(40925),g=n(93587),h=n(5006),v=n(5060),m=n(91117),x=n.n(m),j=n(72196),Z=n.n(j),P=l.Z.create({cardContainer:{backgroundColor:d.Z.color.uiOrangeLight}}),C=function(e){var t=e.coupon,n=e.onClick;return(0,r.jsx)(v.Z,{onPress:function(){return n(t)},children:(0,r.jsx)(b.Z,{elevation:"container",style:P.cardContainer,children:(0,r.jsx)(y.ZP,{padding:{horizontal:"m",vertical:"xs"},children:(0,r.jsxs)(p.Z,{justifyContent:"space-between",children:[(0,r.jsxs)(p.Z,{spacing:"xs",children:[(0,r.jsx)(g.Z,{src:x()}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(h.Z,{variant:"title-3",children:t.couponTitle}),(0,r.jsx)(h.Z,{variant:"ui-tiny",children:t.couponDescription})]})]}),(0,r.jsx)(y.ZP,{margin:{start:"m"},children:(0,r.jsx)(g.Z,{src:Z()})})]})})})})},D=n(70595),S=n(92837),w=l.Z.create({container:{paddingVertical:d.Z.spacing.xs,paddingHorizontal:d.Z.spacing.s,borderWidth:d.Z.border.width.thin,borderRadius:8,borderColor:d.Z.color.uiLightSecondary,flexGrow:1},couponCodeInput:{color:"#1870C9",backgroundColor:"#D6F1FF",fontSize:d.Z.typography.title2.fontSize,fontWeight:d.Z.typography.weightMedium.fontWeight,fontFamily:d.Z.typography.weightMedium.fontFamily,paddingVertical:d.Z.spacing.xxs,paddingHorizontal:d.Z.spacing.xs,width:"100%",borderWidth:d.Z.border.width.thin,borderColor:"#1870C9",borderStyle:"dashed",borderRadius:4,outlineStyle:"none"},button:{height:28}}),T=function(e){var t=e.coupon,n=e.copyLabel,o=void 0===n?"":n,l=e.onCopy,c=(0,i.useRef)(null);return(0,r.jsx)(a.Z,{style:w.container,children:(0,r.jsxs)(f.Z,{spacing:"s",children:[(0,r.jsxs)(f.Z,{spacing:"xxs",children:[(0,r.jsx)(h.Z,{variant:"title-3",children:t.couponTitle}),(0,r.jsx)(h.Z,{variant:"caption-micro",ink:"secondary",children:t.couponDescription})]}),(0,r.jsxs)(p.Z,{spacing:"xs",children:[(0,r.jsx)(S.Z,{ref:c,autoFocus:!0,editable:!1,value:t.couponCode,style:w.couponCodeInput}),document.queryCommandSupported("copy")&&(0,r.jsx)(D.Z,{size:"small",text:o,containerStyle:w.button,onPress:function(){var e;(null===c||void 0===c?void 0:c.current)&&(null===(e=c.current)||void 0===e||e.select(),document.execCommand("copy"),l&&l())}})]})]})})},O=n(25024),k=n(5001),I=n.n(k),L=n(3925);function V(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}var R="/v2/experience/couponList",E=function(){var e=(0,L.uV)(R);return function(){var t,n=(t=I().mark((function t(n){var r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:if(!(r=t.sent).success){t.next=6;break}return t.abrupt("return",r.result);case 6:throw Error(String(r.statusCode));case 9:throw t.prev=9,t.t0=t.catch(0),Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){V(o,r,i,a,l,"next",e)}function l(e){V(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()},M=n(85656),N=n(17645),A=n(79621),U=n(71093),_=n(8659),B=l.Z.create({scrollContentContainer:{flexGrow:1},scrollContainer:{paddingHorizontal:d.Z.spacing.m,flexGrow:1},couponCard:{paddingBottom:d.Z.spacing.xxs,flexGrow:1},couponCardSeparator:{marginLeft:d.Z.spacing.xs},trayActionContainer:{borderTopWidth:0},trayPortal:{zIndex:250},notificationContainer:{padding:d.Z.spacing.m}}),F=function(e){var t,n=e.experienceId,l=e.ticketId,d=e.containerStyle,p=E(),b=(0,M.U8)(),g=(0,N.Jd)(_._6),h=(0,A.hw)({ExperienceCoupon:{copyLabel:"",howToTitle:"",closeDetailLabel:"",onSuccessCopyNotification:"",closeCopyNotification:""}}).ExperienceCoupon,v=(0,U.useQuery)([R,b,n,l],(function(){return p({experienceId:n,ticketId:l,currency:b.code})}),{enabled:!!(b&&n&&(null===g||void 0===g?void 0:g.enabled)),refetchOnWindowFocus:!1}),m=v.data,x=v.isFetching,j=null!==(t=null===m||void 0===m?void 0:m.coupons)&&void 0!==t?t:[],Z=(0,i.useState)(),P=Z[0],D=Z[1],S=(0,i.useState)(!1),w=S[0],k=S[1],I=function(e){return function(){return k(e)}},L=function(e){return D(e)};return x?(0,r.jsx)(c.Z,{}):(null===j||void 0===j?void 0:j.length)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{horizontal:!0,contentContainerStyle:B.scrollContentContainer,style:[B.scrollContainer,d],showsHorizontalScrollIndicator:!1,children:j.map((function(e,t){return(0,r.jsx)(a.Z,{style:0===t?B.couponCard:[B.couponCard,B.couponCardSeparator],children:(0,r.jsx)(C,{coupon:e,onClick:L})},e.couponCode)}))}),(0,r.jsxs)(u.Z,{isMaximized:!!P,onResize:function(e){e||D(void 0)},portalStyle:B.trayPortal,children:[(0,r.jsx)(u.Z.Header,{title:h.howToTitle,hideCloseButton:!0}),P&&(0,r.jsxs)(f.Z,{spacing:"m",children:[(0,r.jsx)(y.ZP,{margin:{horizontal:"m"},children:(0,r.jsx)(T,{coupon:P,copyLabel:h.copyLabel,onCopy:I(!0)})}),(0,r.jsx)(O.Z,{data:P.termsAndConditions})]}),(0,r.jsx)(u.Z.Action,{primary:{label:h.closeDetailLabel,onPress:function(){return D(void 0)}},containerStyle:B.trayActionContainer}),(0,r.jsx)(s.Z,{isVisible:w,onHide:I(!1),text:h.onSuccessCopyNotification,variant:"positive",position:"bottom",closeText:h.closeCopyNotification,style:B.notificationContainer,durationMs:1500})]})]}):null}},51761:function(e,t,n){n.d(t,{Y:function(){return r}});var r=function(e){var t=e.backgroundColor,n=e.iconText,r=n.description,i=n.iconUrl;return{backgroundColor:t,text:r,textColor:n.hexColorCode||void 0,iconUrl:i}}},33043:function(e,t,n){var r=n(74512),i=(n(32735),n(36662)),o=n(79621),a=n(95335),l=n(93098),c={ExperienceCommon:{pointsLabel:""}};t.Z=function(e){var t=e.point,n=(0,o.hw)(c).ExperienceCommon.pointsLabel,u=(0,l.l)();if(t){var s=(0,a.sO)(n,{loyaltyPoint:u(Number(t))});return(0,r.jsx)(i.Z,{loyaltyPointText:s})}return null}},93098:function(e,t,n){n.d(t,{l:function(){return l}});var r=n(97019),i=n.n(r),o=n(90582),a=n(85656),l=function(){var e=(0,a.U8)().code,t=(0,o.Ll)(e).separator,n=t.decimal,r=t.group;return function(e){return i().formatNumber(e,void 0,r,n)}}},56509:function(e,t,n){var r=n(74512),i=n(32735);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}t.Z=function(e,t){return function(n){return(0,r.jsx)(i.Suspense,{fallback:t||(0,r.jsx)("div",{}),children:(0,r.jsx)(e,a({},n))})}}},25024:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(74512),i=(n(32735),n(51289)),o=n(95050),a=n(67091),l=n(87904),c=n(68695),u=n(9484);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=(0,n(98226).Z)()((function(e){var t=f((0,u.Z)(),2),n=t[0],i=t[1];return(0,r.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({style:e.style.container},i,{children:(0,r.jsx)(c.Z,{style:{maxWidth:"100%"},importance:"low",src:e.imageUrl,width:n.width||void 0})}),e.id)}));function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=b({},o.Z,{Image:function(e){return(0,r.jsx)(y,b({},e))},Paragraph:function(e){var t=e.styleSheet,n=g(e,["styleSheet"]);return(0,r.jsx)(o.Z.Paragraph,b({},n,{styleSheet:b({},t,{marginBottom:a.Z.spacing.xs})}))}}),v=function(e){return(0,r.jsx)(i.ZP,{componentByName:h,data:e.data})}},26303:function(e,t,n){n.r(t),n.d(t,{AccordionVD:function(){return m},BackgroundHighlight:function(){return Ie},CollapsibleVDContent:function(){return Se},ContentVD:function(){return b},ContingencyBanner:function(){return De},CouponList:function(){return Le},DestinationBanner:function(){return Ve},DropdownTree:function(){return Ce},InformationBanner:function(){return Pe},LocationInfoModalContent:function(){return Ze},LoyaltyPoint:function(){return x.Z},MerchandisingRenderer:function(){return je.Z},ParsableText:function(){return K.Z},ProductFeatures:function(){return Ee},RandomLoadingState:function(){return Re},ScrollingNavigationTab:function(){return we},SearchResultDestinationEmptyState:function(){return Oe},SearchResultDestinationErrorState:function(){return ke},SearchResultRecommendationTitle:function(){return Te},TicketDetail:function(){return ve},ViewDescription:function(){return i.Z},getDetail:function(){return T},getPaxUI:function(){return w},usePointConverter:function(){return j.l},withReactSuspense:function(){return me.Z},withSuspense:function(){return xe.Z}});var r=n(82070),i=n(25024),o=n(74512),a=n(32735),l=n(87904),c=n(6907),u=n(5006),s=n(43404),d=n(62382),f=n(67091),y=n(34055),p=n(51690),b=function(e){var t=e.data;return t.length>0?(0,o.jsx)(i.Z,{data:t}):null};function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var v=c.Z.create({collapsibleTitleStyle:h({flex:1},f.Z.typography.weightMedium),collapsibleContentStyle:{padding:0},collapsibleStyle:{marginBottom:f.Z.spacing.xs}}),m=function(e){var t=e.accordionInformation,n=e.contentVD,r=e.collapsibleProps,i=e.textProps,c=e.containerVDStyle,f=e.onToggle,g=t.title,m=t.description,x=t.descriptions,j=t.descriptionColor,Z=t.hexCode,P=t.iconUrl,C=t.initiallyExpanded,D=(0,a.useState)(!C),S=D[0],w=D[1];if(n&&n.length>0){var T=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,h({},i,{style:[v.collapsibleTitleStyle,null===i||void 0===i?void 0:i.style],children:g})),(null===x||void 0===x?void 0:x.length)?(0,o.jsx)(u.Z,{children:null===x||void 0===x?void 0:x.map((function(e,t,n){return(0,o.jsx)(u.Z,{variant:"ui-tiny",style:{color:e.textColor},children:"".concat(e.text).concat(t===n.length-1?"":", ")},e.text)}))}):m?(0,o.jsx)(y.Z,{variant:"mobile",iconUrl:P||void 0,iconColor:Z||void 0,label:m||void 0,labelColor:j}):null]});return(0,o.jsx)(s.f6,{value:p.Z,children:(0,o.jsx)(d.Z,h({defaultIsCollapsed:!C,title:T},r,{contentStyle:[v.collapsibleContentStyle,null===r||void 0===r?void 0:r.contentStyle],style:[v.collapsibleStyle,null===r||void 0===r?void 0:r.style],onPress:function(){f&&f(!S),w((function(e){return!e}))},isCollapsed:S,children:(0,o.jsx)(s.f6,{children:(0,o.jsx)(l.Z,{style:c,children:(0,o.jsx)(b,{data:n})})})}))})}return null},x=n(33043),j=n(93098),Z=n(90582),P=n(51761);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w=function(e){return e.map((function(e){var t=e.identifier,n=e.price,r=e.loyaltyPoint,i=e.description,o=e.convenienceFee,a=e.notice;return D({},S(e,["identifier","price","loyaltyPoint","description","convenienceFee","notice"]),{id:t},r&&{loyaltyPoint:r},i&&{description:i},o&&{convenienceFee:o},a&&{notice:(0,P.Y)(a)},(0,Z.yg)(n))}))},T=function(e,t){var n=D({imageUrl:t.ticketDetailsImageUrl,priceLabel:e.detailPriceLabel,titleLabel:e.detailTitleLabel,title:t.title,pax:w(t.ticketEntranceTypes)},t.ticketDetailInformation,{validityInfo:D({},t.ticketValidity,{descriptionIndex:t.ticketDescriptionValidityIndex}),cancellationPoliciesInfo:{cancellationPoliciesData:t.cancellationPoliciesData,ticketRefundIndex:t.ticketRefundIndex},badges:t.ticketBadges||void 0});return{modalTitle:t.title,modalImage:n.imageUrl,detail:n}},O=n(79621),k=n(40925),I=n(35053);function L(e){var t=e.title,n=e.children,r=e.style;return(0,o.jsxs)(k.Z,{style:[V.card,r],children:[(0,o.jsx)(u.Z,{variant:"title-2",style:V.title,children:t}),n]})}var V=c.Z.create({card:{borderRadius:0,padding:f.Z.spacing.m},title:{marginBottom:f.Z.spacing.m}});function R(e){var t=e.ticketPriceLabel,n=e.entranceTypes,r=e.style;return(0,o.jsx)(L,{title:t,style:r,children:n.map((function(e,t){var n=e.pax,r=e.paxPrice;return(0,o.jsxs)(l.Z,{style:[E.paxContainer,0===t?{}:{borderTopWidth:f.Z.border.width.thin,borderTopColor:f.Z.color.uiLightNeutral}],children:[(0,o.jsx)(u.Z,{children:n}),(0,o.jsx)(u.Z,{ink:"secondary",children:r})]},t)}))})}var E=c.Z.create({paxContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between"}}),M=n(72962),N=n(92429),A=n(51110),U=c.Z.create({badgeContainer:{marginTop:f.Z.spacing.xs,borderRadius:f.Z.border.radius.normal,paddingVertical:f.Z.spacing.xxs/2,paddingHorizontal:f.Z.spacing.xs}}),_=function(e){var t=e.badges;return t.length>0?(0,o.jsx)(N.Z,{wrap:"wrap",spacing:"xs",children:t.map((function(e){var t=e.title,n=e.iconUrl,r=(0,A.ff)(e),i=r.color,a=r.backgroundColor,l=r.weight;return(0,o.jsx)(y.Z,{style:[U.badgeContainer,{backgroundColor:a}],variant:"mobile",label:t,labelColor:i,iconUrl:n||void 0,iconSize:14,textStyle:l},t)}))}):null},B=n(9484),F=n(33910);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z(e,t,n[t])}))}return e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=(0,a.createContext)(null),$=Y;function Y(e){var t=e.height,n=void 0===t?200:t,r=e.children,i=W((0,B.Z)(),2),c=i[0],u=i[1],s=c.height>n,d=(0,a.useState)(!0),f=d[0],y=d[1],p=(0,a.useMemo)((function(){return{isTruncated:f,shouldShowReadMore:s,toggleReadMore:function(){return y((function(e){return!e}))}}}),[f,s]);return(0,o.jsxs)(X.Provider,{value:p,children:[(0,o.jsx)(l.Z,H({style:q.fauxCard},u,{children:r(p)})),r(p)]})}Y.Button=function(e){var t=e.readMoreLabel,n=e.readLessLabel,r=void 0===n?t:n,i=(0,a.useContext)(X),c=i.isTruncated,d=i.shouldShowReadMore,y=i.toggleReadMore,p=(0,s.Fg)(),b=(0,a.useMemo)((function(){return{textColor:{color:p.color.accentDark}}}),[p.color.accentDark]);return d?(0,o.jsxs)(l.Z,{style:q.readMoreButton,children:[c&&(0,o.jsx)(F.Z,{style:q.gradient,colors:[f.Z.color.uiLightPrimary+"00",f.Z.opacity.obscure(f.Z.color.uiLightPrimary)]}),(0,o.jsx)(u.Z,{style:[q.readMoreButtonText,b.textColor],onPress:y,variant:"title-3",children:c?t:r})]}):null};var q=c.Z.create({fauxCard:{opacity:0,position:"absolute"},gradient:{height:f.Z.spacing.xxxxl,position:"absolute",top:-f.Z.spacing.xxxxl,left:0,right:0},readMoreButton:{position:"absolute",bottom:0,left:f.Z.spacing.xs,right:f.Z.spacing.xs,height:f.Z.spacing.xxl,backgroundColor:f.Z.color.uiLightPrimary},readMoreButtonText:{textAlign:"center",paddingTop:f.Z.spacing.xs,color:p.Z.tintPrimary}}),J=c.Z.create({card:{paddingHorizontal:f.Z.spacing.m,borderRadius:0,marginBottom:f.Z.spacing.xs},withReadMore:{paddingBottom:f.Z.spacing.xxl},truncated:{maxHeight:200}}),Q=function(e){var t=e.title,n=e.sections,r=e.trackingConfig,i=n.inclusive,l=n.medicalProcedure,c=n.whatToPrepare,u=(0,O.hw)({ExperienceCommon:{readMoreLabel:"",readLessLabel:""}}),s=function(e){var t=(0,M.r)(e);return{trackDetailAccordion:(0,a.useCallback)((function(e){t({nonInteraction:!1,actionCategory:"default_collapsed_accordion",actionName:"expand",actionLabel:e,pageModalName:"ticket_details_modal"})}),[t]),trackTicketDetail:(0,a.useCallback)((function(e){t({nonInteraction:!1,actionCategory:"ticket_details",actionName:e})}),[t])}}(r).trackDetailAccordion,d=(null===c||void 0===c?void 0:c.contentVD)&&(0,o.jsx)(b,{data:c.contentVD}),f=(null===l||void 0===l?void 0:l.contentVD)&&(0,o.jsx)(b,{data:l.contentVD});return d||f?(0,o.jsx)($,{children:function(e){var n=e.isTruncated,r=e.shouldShowReadMore;return(0,o.jsxs)(L,{title:t,style:[J.card,n?J.truncated:void 0,r?J.withReadMore:void 0],children:[d,f,(null===i||void 0===i?void 0:i.contentVD)&&(0,o.jsx)(b,{data:i.contentVD}),(0,o.jsx)($.Button,{readMoreLabel:u.ExperienceCommon.readMoreLabel,readLessLabel:u.ExperienceCommon.readLessLabel})]})}}):i?(0,o.jsx)(m,{accordionInformation:{title:t,initiallyExpanded:null,hexCode:null,description:null,descriptionColor:null,iconUrl:null,descriptions:null},contentVD:i.contentVD,onToggle:function(e){!e&&s("ticket_activity_detail")}}):null},K=n(65153),ee=n(11987),te=n(83e3),ne=n.n(te),re=function(e){var t=e.validityInfo,n=e.selectedDate,r=(0,ee.U)()(t,n);return r?(0,o.jsx)(y.Z,{variant:"mobile",iconUrl:ne(),rtfLabel:(0,o.jsx)(K.Z,{variant:"ui-small",ink:"positive",children:r})}):null},ie=n(48023),oe=n(99041),ae=function(){return(0,o.jsx)(l.Z,{style:le.bulletPointContainer,children:(0,o.jsx)(l.Z,{style:le.bulletPoint})})},le=c.Z.create({bulletPointContainer:{width:f.Z.spacing.l,height:f.Z.spacing.ml,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",marginRight:f.Z.spacing.xs},bulletPoint:{width:7,height:7,borderRadius:3.5,backgroundColor:f.Z.color.uiDarkPrimary},contentSectionItem:{display:"flex",flexDirection:"row"},tierItem:{marginLeft:f.Z.spacing.ml}}),ce=function(e){var t=e.value,n=e.textType,r=void 0===n?"TEXT":n,i=e.itemType,a=void 0===i?"DEFAULT":i;return(0,o.jsxs)(l.Z,{style:[le.contentSectionItem,"TIER_ITEM"===a?le.tierItem:void 0],children:[(0,o.jsx)(ae,{}),"TEXT"===r?(0,o.jsx)(u.Z,{variant:"ui-small",children:t}):(0,o.jsx)(K.Z,{variant:"ui-small",children:t})]})};function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}var de=c.Z.create({collapsibleTitleStyle:se({flex:1},f.Z.typography.weightMedium),collapsibleContentStyle:{padding:0},collapsibleStyle:{marginBottom:f.Z.spacing.xs},contentSection:{marginHorizontal:f.Z.spacing.m,marginVertical:f.Z.spacing.xs},policyTitle:{color:"#000000"}}),fe=function(e){var t,n=e.cancellationInfo,r=e.selectedDate,i=e.cancellationPoliciesData,c=e.rescheduleInfos,f=e.refundInfos,b=e.productTimeZone,g=e.collapsibleProps,h=e.onToggle,v=n.accordionInformation,m=v.title,x=v.initiallyExpanded,j=(0,oe.W)({cancellationInfo:n,selectedDate:r,cancellationPoliciesData:i,refundInfos:f,rescheduleInfos:c,productTimeZone:b}),Z=j.getSubtitle,P=j.getReschedulePolicies,C=j.getRefundablePolicies,D=Z(),S=D.isSingleText,w=D.singleTextSubtitleData,T=D.multipleTextSubtitleData,O=D.getIsRefundSubtitle,k=D.getRefundSubtitleText,I=P(),L=I.title,V=I.getRescheduleInfos,R=C(),E=R.title,M=R.isRefundable,N=R.isCancellationPoliciesExists,A=R.isMultiTier,U=R.getSingleTierCancellationPolicies,_=R.getMultiTierCancellationPolicies,B=R.getNonRefundableText,F=(0,a.useState)(!x),G=F[0],z=F[1],H=(0,a.useCallback)((function(){h&&h(!G),z((function(e){return!e}))}),[h,G]),W=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{style:de.collapsibleTitleStyle,children:m}),S?(0,o.jsx)(y.Z,{variant:"mobile",iconUrl:w.iconUrl||void 0,iconColor:w.hexCode||void 0,label:w.description||void 0,labelColor:w.descriptionColor}):(0,o.jsx)(u.Z,{children:null===T||void 0===T?void 0:T.map((function(e,t,n){if(O(e)){var r=k(),i=r.refundSubtitleText;return r.isRefundable?(0,o.jsx)(K.Z,{variant:"ui-tiny",style:{color:e.textColor},children:i},e.text):(0,o.jsx)(u.Z,{variant:"ui-tiny",ink:"secondary",children:i},e.text)}return(0,o.jsx)(u.Z,{variant:"ui-tiny",style:{color:e.textColor},children:"".concat(e.text).concat(t===n.length-1?"":", ")},e.text)}))})]});return(0,o.jsx)(s.f6,{value:p.Z,children:(0,o.jsxs)(d.Z,se({defaultIsCollapsed:!x,title:W},g,{contentStyle:[de.collapsibleContentStyle,null===g||void 0===g?void 0:g.contentStyle],style:[de.collapsibleStyle,null===g||void 0===g?void 0:g.style],onPress:H,isCollapsed:G,children:[(0,o.jsxs)(l.Z,{style:de.contentSection,children:[(0,o.jsx)(u.Z,{variant:"title-3",style:de.policyTitle,children:L}),null===(t=V())||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(ce,{value:e},e)}))]}),(0,o.jsxs)(l.Z,{style:de.contentSection,children:[(0,o.jsx)(u.Z,{variant:"title-3",style:de.policyTitle,children:E}),M?N?A?(0,o.jsx)(o.Fragment,{children:_().map((function(e){return(0,o.jsx)(ce,{value:e.value,textType:e.textType,itemType:e.itemType},e.value)}))}):(0,o.jsx)(o.Fragment,{children:U().map((function(e){return(0,o.jsx)(ce,{value:e.value,textType:e.textType},e.value)}))}):null:(0,o.jsx)(ce,{value:B()||""})]})]}))})};function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}(0,r.default)((function(){return n.e(9029).then(n.bind(n,93477))}),{loadableGenerated:{webpack:function(){return[93477]}},ssr:!1}),(0,r.default)((function(){return n.e(6086).then(n.bind(n,23275))}),{loadableGenerated:{webpack:function(){return[23275]}},ssr:!1});var be={ExperienceProductTicketPage:{reservationInfoLabel:"",cancellationPolicyLabel:"",redemptionMethodLabel:"",priceLabel:"",validitySectionLabel:""}},ge=function(e){var t=e.showButton,n=void 0===t||t,r=e.buttonLabel,i=e.buttonVariant,c=void 0===i?"primary":i,s=e.detail,d=s.cancellationInfo,f=s.description,y=s.inclusive,p=s.redemptionMethod,g=s.termsAndCondition,h=s.titleLabel,v=s.validity,x=s.validityInfo,j=s.badges,P=s.title,C=s.pax,D=s.whatToPrepare,S=s.medicalProcedure,w=s.cancellationPoliciesInfo,T=s.refundInfosWithSelectedDate,V=s.refundInfosWithoutSelectedDate,E=s.rescheduleInfos,N=e.onDetailModalClose,A=e.onButtonClick,U=e.auxiliaryInfo,B=void 0===U?{}:U,F=e.trackingConfig,G=(0,O.hw)(be),z=G.ExperienceProductTicketPage.priceLabel,H=function(e){var t=(0,M.r)(e);return{trackDetailAccordion:function(e){t({nonInteraction:!1,actionCategory:"default_collapsed_accordion",actionName:"expand",actionLabel:e,pageModalName:"ticket_details_modal"})},trackTicketDetail:function(e){t({nonInteraction:!1,actionCategory:"ticket_details",actionName:e})}}}(F),W=H.trackTicketDetail,X=H.trackDetailAccordion;(0,a.useEffect)((function(){return W("open"),function(){W("close")}}),[W]);var $=x&&(0,o.jsx)(re,{validityInfo:x,selectedDate:B.selectedDate}),Y=(null===v||void 0===v?void 0:v.contentVD)&&(0,o.jsx)(b,{data:v.contentVD}),q=function(e){return function(t){!t&&X(e)}};return(0,o.jsxs)(l.Z,{style:he.ticketDetailStyle,children:[(0,o.jsxs)(k.Z,{style:he.ticketDetailCardStyle,children:[j&&(0,o.jsx)(_,{badges:j}),(0,o.jsx)(u.Z,{style:he.ticketDetailTitle,variant:"title-1",numberOfLines:2,children:P}),!!f&&(0,o.jsx)(u.Z,{variant:"ui-small",style:he.ticketDetailDescription,children:f})]}),e.experienceId&&e.experienceTicketId&&(0,o.jsx)(ie.default,{experienceId:e.experienceId,ticketId:e.experienceTicketId,containerStyle:he.couponListContainer}),(0,o.jsx)(Q,{title:h,sections:{whatToPrepare:D,medicalProcedure:S,inclusive:y}}),C&&(0,o.jsx)(R,{ticketPriceLabel:z,entranceTypes:C.map((function(e){return{pax:e.title,paxPrice:(0,Z.CG)(e.price)}})),style:he.ticketDetailCardStyle}),($||Y)&&(0,o.jsxs)(L,{title:G.ExperienceProductTicketPage.validitySectionLabel,style:he.ticketDetailCardStyle,children:[$,Y]}),p&&(0,o.jsx)(m,pe({},p,{onToggle:q("ticket_redemption_detail")})),g&&(0,o.jsx)(m,pe({},g,{onToggle:q("ticket_tnc")})),!!d&&(0,o.jsx)(fe,{cancellationInfo:d,selectedDate:B.selectedDate,cancellationPoliciesData:null===w||void 0===w?void 0:w.cancellationPoliciesData,rescheduleInfos:E,refundInfos:B.selectedDate?T:V,productTimeZone:B.productTimeZone,onToggle:q("ticket_reschedule_refund")}),n&&(0,o.jsx)(l.Z,{style:he.stickyButton,children:(0,o.jsx)(k.Z,{elevation:"float",style:he.stickyButtonCard,children:(0,o.jsx)(I.Z,{text:r,variant:c,onPress:function(e){"function"===typeof N&&N(),"function"===typeof A&&A(e)}})})})]})},he=c.Z.create({ticketDetailStyle:{backgroundColor:f.Z.color.uiLightNeutral},ticketDetailTitle:{marginTop:f.Z.spacing.m},ticketDetailDescription:{marginTop:f.Z.spacing.xs},ticketDetailCardStyle:{paddingHorizontal:f.Z.spacing.m,paddingBottom:f.Z.spacing.m,borderRadius:0,marginBottom:f.Z.spacing.xs},stickyButton:{backgroundColor:f.Z.color.uiLightPrimary,width:"100%",bottom:0,position:"sticky"},stickyButtonCard:{padding:f.Z.spacing.m,borderTopWidth:f.Z.border.width.thick,borderTopColor:f.Z.color.uiLightNeutral},couponListContainer:{paddingHorizontal:f.Z.spacing.s,paddingBottom:f.Z.spacing.xxs,flexGrow:1}}),ve=ge,me=n(56509),xe=n(73778),je=n(8031),Ze=(0,r.default)((function(){return Promise.all([n.e(3788),n.e(216)]).then(n.bind(n,65920))}),{loadableGenerated:{webpack:function(){return[65920]}},ssr:!1}),Pe=(0,r.default)((function(){return n.e(992).then(n.bind(n,21843))}),{loadableGenerated:{webpack:function(){return[21843]}},ssr:!1}),Ce=(0,r.default)((function(){return Promise.all([n.e(7154),n.e(47)]).then(n.bind(n,7154))}),{loadableGenerated:{webpack:function(){return[7154]}},ssr:!1}),De=(0,r.default)((function(){return Promise.all([n.e(8904),n.e(4134),n.e(7398),n.e(4370),n.e(5019),n.e(4198),n.e(752),n.e(8031),n.e(1906),n.e(6303),n.e(1110),n.e(6868)]).then(n.bind(n,84228))}),{loadableGenerated:{webpack:function(){return[84228]}}}),Se=(0,r.default)((function(){return n.e(4687).then(n.bind(n,71168))}),{loadableGenerated:{webpack:function(){return[71168]}}}),we=(0,r.default)((function(){return Promise.all([n.e(8717),n.e(1776)]).then(n.bind(n,61608))}),{loadableGenerated:{webpack:function(){return[61608]}}}),Te=(0,r.default)((function(){return n.e(1401).then(n.bind(n,19390))}),{loadableGenerated:{webpack:function(){return[19390]}}}),Oe=(0,r.default)((function(){return n.e(5513).then(n.bind(n,18045))}),{loadableGenerated:{webpack:function(){return[18045]}}}),ke=(0,r.default)((function(){return n.e(6342).then(n.bind(n,53315))}),{loadableGenerated:{webpack:function(){return[53315]}}}),Ie=(0,r.default)((function(){return n.e(6409).then(n.bind(n,42561))}),{loadableGenerated:{webpack:function(){return[42561]}}}),Le=(0,r.default)((function(){return Promise.resolve().then(n.bind(n,48023))}),{loadableGenerated:{webpack:function(){return[48023]}},ssr:!1}),Ve=(0,r.default)((function(){return n.e(9957).then(n.bind(n,22296))}),{loadableGenerated:{webpack:function(){return[22296]}},ssr:!1}),Re=(0,r.default)((function(){return n.e(6086).then(n.bind(n,32300))}),{loadableGenerated:{webpack:function(){return[32300]}},ssr:!1}),Ee=(0,r.default)((function(){return n.e(643).then(n.bind(n,73981))}),{loadableGenerated:{webpack:function(){return[73981]}}})},73778:function(e,t,n){var r=n(74512),i=n(32735);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}t.Z=function(e,t){return function(n){return(0,r.jsx)(i.Suspense,{fallback:t||null,children:(0,r.jsx)(e,a({},n))})}}},99041:function(e,t,n){n.d(t,{W:function(){return j}});var r=n(32735),i=n(79621),o=n(42530),a=n(95335),l=n(47219),c=n(70545),u=n(5755),s=function(e,t){return(0,c.Z)(new Date(e.year,e.month-1,e.day),t)},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"d MMM yyyy";return(0,u.M_)((0,u.gi)(s(e,n)),t,r)},f=function(e,t){return(0,c.Z)(new Date(e.year,e.month-1,e.day,23,59),t)},y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"d MMM yyyy";return d(e,t,n,r).concat(", 23:59")};function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return"REFUND_SUBTITLE"===e.tag},h=function(e){var t=e.nonRefundableCR,n=e.isRefundable;return function(){if(!n)return t}},v=function(e){var t=e.selectedDate,n=e.cancellationPoliciesData,r=e.refundInfos,i=e.refundPolicyItemVisitDateCR,o=e.refundPolicyItemNoVisitDateCR,l=e.refundPolicyLatestVisitDateCR,c=e.refundPolicyLatestNoVisitDateCR,u=e.language;return function(){if(n&&1===n.length){var e=t?(0,a.sO)(i,{date:y(t,u,Number(n[0].days)),percentage:n[0].percentage}):(0,a.sO)(o,{day:n[0].days,percentage:n[0].percentage}),s=t?(0,a.sO)(l,{date:d(t,u,Number(n[0].days))}):(0,a.sO)(c,{day:n[0].days}),f=(null===r||void 0===r?void 0:r.map((function(e){return{textType:"TEXT",value:e,itemType:"DEFAULT"}})))||[];return[{textType:"PARSEABLE_TEXT",value:e,itemType:"DEFAULT"},{textType:"PARSEABLE_TEXT",value:s,itemType:"DEFAULT"}].concat(b(f))}return[]}},m=function(e){var t=e.selectedDate,n=e.cancellationPoliciesData,r=e.refundInfos,i=e.currentDate,o=e.refundPolicyVisitDateCR,l=e.refundPolicyNoVisitDateCR,c=e.refundPolicyItemVisitDateCR,u=e.refundPolicyItemNoVisitDateCR,s=e.refundPolicyLatestVisitDateCR,p=e.refundPolicyLatestNoVisitDateCR,g=e.language;return function(){if(n&&n.length>1){var e=t?o:l,h=n.filter((function(e){var n=t?f(t,Number(e.days)):null;return!(!(n&&n>=i)&&n)})).sort((function(e,t){return Number(t.days)-Number(e.days)})).map((function(e){return{textType:"PARSEABLE_TEXT",value:t?(0,a.sO)(c,{date:y(t,g,Number(e.days)),percentage:e.percentage}):(0,a.sO)(u,{day:e.days,percentage:e.percentage}),itemType:"TIER_ITEM"}})),v=t?(0,a.sO)(s,{date:d(t,g,Number(n.sort((function(e,t){return Number(e.days)-Number(t.days)}))[0].days))}):(0,a.sO)(p,{day:n.sort((function(e,t){return Number(e.days)-Number(t.days)}))[0].days}),m=(null===r||void 0===r?void 0:r.map((function(e){return{textType:"TEXT",value:e,itemType:"DEFAULT"}})))||[];return[{textType:"TEXT",value:e,itemType:"DEFAULT"}].concat(b(h),[{textType:"PARSEABLE_TEXT",value:v,itemType:"DEFAULT"}],b(m))}return[]}},x={ExperienceCancellationPolicy:{nonRefundableString:"",refundableUntil:"",reschedulePolicyTitle:"",refundPolicyTitle:"",nonRefundablePolicy:"",refundPolicyMultiTierNoVisitDate:"",refundPolicyItemMultiTierNoVisitDate:"",refundPolicyMultiTierVisitDate:"",refundPolicyItemMultiTierVisitDate:"",refundPolicyItemNoVisitDate:"",refundPolicyLatestNoVisitDate:"",refundPolicyItemVisitDate:"",refundPolicyLatestVisitDate:""}},j=function(e){var t=e.cancellationInfo,n=e.selectedDate,a=e.cancellationPoliciesData,c=e.refundInfos,u=e.rescheduleInfos,s=e.productTimeZone,d=t.accordionInformation,y=d.hexCode,p=d.iconUrl,b=d.description,j=d.descriptionColor,Z=d.descriptions,P=(0,i.hw)(x).ExperienceCancellationPolicy,C=P.reschedulePolicyTitle,D=P.refundPolicyTitle,S=P.nonRefundablePolicy,w=P.refundPolicyMultiTierNoVisitDate,T=P.refundPolicyItemMultiTierNoVisitDate,O=P.refundPolicyMultiTierVisitDate,k=P.refundPolicyItemMultiTierVisitDate,I=P.refundPolicyItemNoVisitDate,L=P.refundPolicyLatestNoVisitDate,V=P.refundPolicyItemVisitDate,R=P.refundPolicyLatestVisitDate,E=(0,o.bU)().language,M=(0,r.useMemo)((function(){var e=(new Date).setMilliseconds(0),t=new Date(e);return s?new Date(t.toLocaleString("en-US",{timeZone:s})):t}),[s]),N=(0,r.useMemo)((function(){return function(e){var t=e.selectedDate,n=e.cancellationPoliciesData;if(t&&(null===n||void 0===n?void 0:n.length)&&n.every((function(e){return!isNaN(Number(e.days))&&!isNaN(Number(e.percentage))})))return f(t,Number(n.sort((function(e,t){return Number(e.days)-Number(t.days)}))[0].days))}({selectedDate:n,cancellationPoliciesData:a})}),[n,a]),A=(0,l.C)({cancellationPoliciesData:a,selectedDate:n,productTimeZone:s}),U=A.text,_=A.isRefundable,B=(0,r.useMemo)((function(){return{isSingleText:b&&!(null===Z||void 0===Z?void 0:Z.length)||!1,singleTextSubtitleData:{iconUrl:p,hexCode:y,description:b,descriptionColor:j},multipleTextSubtitleData:Z,getIsRefundSubtitle:g,getRefundSubtitleText:function(){return{refundSubtitleText:U,isRefundable:_}}}}),[p,y,b,j,Z,U,_]),F=(0,r.useCallback)((function(){return B}),[B]),G=(0,r.useMemo)((function(){var e=Boolean((null===a||void 0===a?void 0:a.length)&&a.every((function(e){return!isNaN(Number(e.days))&&!isNaN(Number(e.percentage))}))&&(N&&N>=M||!N)),t=Boolean(null===a||void 0===a?void 0:a.length),r=a&&a.length>1;return{title:D,isRefundable:e,getNonRefundableText:h({nonRefundableCR:S,isRefundable:e}),isCancellationPoliciesExists:t,isMultiTier:r,getSingleTierCancellationPolicies:v({selectedDate:n,cancellationPoliciesData:a,refundInfos:c,refundPolicyItemVisitDateCR:V,refundPolicyItemNoVisitDateCR:I,refundPolicyLatestVisitDateCR:R,refundPolicyLatestNoVisitDateCR:L,language:E}),getMultiTierCancellationPolicies:m({selectedDate:n,cancellationPoliciesData:a,refundInfos:c,currentDate:M,refundPolicyVisitDateCR:O,refundPolicyNoVisitDateCR:w,refundPolicyItemVisitDateCR:k,refundPolicyItemNoVisitDateCR:T,refundPolicyLatestVisitDateCR:R,refundPolicyLatestNoVisitDateCR:L,language:E})}}),[N,n,a,M,S,c,D,V,I,R,L,w,T,O,k,E]),z=(0,r.useCallback)((function(){return G}),[G]),H=(0,r.useMemo)((function(){return{title:C,getRescheduleInfos:function(){return u}}}),[C,u]);return{getSubtitle:F,getRefundablePolicies:z,getReschedulePolicies:(0,r.useCallback)((function(){return H}),[H])}}},11987:function(e,t,n){n.d(t,{U:function(){return c}});var r=n(42530),i=n(79621),o=n(5755),a=n(51110),l=n(95335),c=function(){var e=(0,r.bU)().language,t=(0,i.hw)({ExperienceVoucherValidity:{selectedVisitDateLabel:"",validOnDateLabel:"",validUntilDateLabel:"",afterVisitDateLabel:"",validFromUntilDateLabel:"",batchValidityLabel:"",inventoryValidity:""},MW_GeneralPageSentence:{todayString:""}});return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"d MMMM yyyy",c=function(t){return(0,o.M_)(t,e,i)},u=n.ticketValidityType,s=n.days,d=n.startDate,f=n.endDate,y=n.hasBatchValidityDate;if("VISIT_DATE_ONLY"===u)return r?(0,l.sO)(t.ExperienceVoucherValidity.validOnDateLabel,{date:c(r)}):t.ExperienceVoucherValidity.selectedVisitDateLabel;if((0,a.Of)(n)&&f){if(d&&f){var p=new Date(d.year,d.month-1,d.day),b=new Date;return(0,l.sO)(t.ExperienceVoucherValidity.validFromUntilDateLabel,{fromDate:p.getTime()<=b.getTime()?t.MW_GeneralPageSentence.todayString:c(d),untilDate:c(f)})}return(0,l.sO)(t.ExperienceVoucherValidity.validUntilDateLabel,{date:c(f)})}if("VALID_UNTIL"===u&&y)return t.ExperienceVoucherValidity.batchValidityLabel;if("AFTER_VISIT_DATE"===u&&s&&s>0){if(r){var g=(0,o.Xp)(r,{days:s});return(0,l.sO)(t.ExperienceVoucherValidity.validUntilDateLabel,{date:c(g)})}return(0,l.sO)(t.ExperienceVoucherValidity.afterVisitDateLabel,{days:s.toString()})}return"INVENTORY_VALIDITY"===u?t.ExperienceVoucherValidity.inventoryValidity:void 0}}},47219:function(e,t,n){n.d(t,{C:function(){return f}});var r=n(26676),i=n(70545),o=n(38795),a=n(73851),l=n(95335),c=n(5755),u=n(79621),s=n(42530),d=function(e){var t=e.date,n=function(e,t){try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));return e.getTime()-n.getTime()}catch(r){return}}(t,e.timeZone);if(null!==n&&void 0!==n)return new Date(t.getTime()-n)},f=function(e){var t=e.cancellationPoliciesData,n=e.selectedDate,f=e.productTimeZone,y=(0,u.hw)({ExperienceCancellationPolicy:{nonRefundableString:"",easyRefundLabel:"",refundableUntil:""}}).ExperienceCancellationPolicy,p=y.nonRefundableString,b=y.easyRefundLabel,g=y.refundableUntil,h=(0,s.bU)().language;if(void 0===t||null===t||0===t.length)return{text:p,isRefundable:!1};if(!n||!f)return{text:b,isRefundable:!0};var v=d({date:new Date,timeZone:f}),m=new Date(n.year,n.month-1,n.day,23,59);if(!v)return{text:b,isRefundable:!0};var x=((null===t||void 0===t?void 0:t.map((function(e){var t=Number(e.days);if(isNaN(t))return{text:b,isRefundable:!1};var n=(0,r.Z)(v,t),u=(0,i.Z)(m,t),s=(0,c.M_)({day:u.getDate(),month:u.getMonth()+1,year:u.getFullYear()},h,"d MMM yyyy"),d=(0,o.Z)(m,n)||(0,a.Z)(m,n);return{text:(0,l.sO)(g,{date:s}),isRefundable:d}})))||[]).filter((function(e){return e.isRefundable}));return x.length?{text:x[0].text,isRefundable:!0}:{text:p,isRefundable:!1}}},34055:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(74512),i=n(5006),o=n(67091),a=(n(32735),n(68101)),l=n(87904),c=n(6907),u=n(32337);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var f={desktop:{textVariant:"ui-baseline",iconSize:24},mobile:{textVariant:"ui-tiny",iconSize:16}};function y(e){var t=e.icon,n=e.iconUrl,o=e.label,c=e.subLabel,s=e.subLabelComponent,y=e.variant,b=e.iconColor,g=e.labelColor,h=e.rtfLabel,v=e.highlightedText,m=e.iconSize,x=e.textVariant,j=e.style,Z=void 0===j?{}:j,P=e.textStyle,C=void 0===P?{}:P,D=e.iconStyle,S=void 0===D?{}:D,w=e.iconContainerStyle,T=void 0===w?{}:w,O=e.testID,k=e.subLabelTextVariant,I=void 0===k?"ui-tiny":k,L=e.subLabelTextInk,V=e.isCompleteLabel,R=void 0!==V&&V,E=f[y],M=E.textVariant,N=E.iconSize,A=x||M,U=m||N,_=!!n&&(0,r.jsx)(a.Z,{source:{uri:n},height:U,width:U,style:d({height:U,width:U,tintColor:b},S)}),B=g||void 0;return(0,r.jsxs)(l.Z,{style:[p.container,Z],children:[Boolean(t||_)&&(0,r.jsx)(l.Z,{style:[p.icon,T],children:t||_}),h&&(0,r.jsx)(i.Z,{testID:O,numberOfLines:R?void 0:1,variant:A,style:[p.label,{color:B},C],children:h})||null,o&&(0,r.jsxs)(l.Z,{style:{flex:1},children:[(0,r.jsx)(i.Z,{testID:O,numberOfLines:R?void 0:1,variant:A,style:[p.label,{color:B},C],children:(0,r.jsx)(u.Z,{numberOfLines:R?void 0:1,text:o,highlight:v,variant:A,style:[{color:B},C]})}),c?(0,r.jsx)(i.Z,{variant:I,ink:"secondary",style:p.label,children:(0,r.jsx)(u.Z,{text:c,highlight:v,variant:I,ink:L})}):s||null]})||null]})}var p=c.Z.create({container:{flexDirection:"row",alignItems:"center"},icon:{marginRight:o.Z.spacing.xxs},label:{flex:1}})},32337:function(e,t,n){var r=n(74512),i=n(32735),o=n(5006),a=n(87510);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}t.Z=function(e){var t=e.text,n=void 0===t?"":t,l=e.highlight,u=void 0===l?"":l,s=e.variant,d=void 0===s?"title-3":s,f=e.style,y=e.highlightedStyle;if(!u.trim())return(0,r.jsx)(o.Z,c({},e,{variant:d,style:f,children:n}));var p=new RegExp("(".concat(u.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),")"),"gi"),b=n.split(p);return(0,r.jsx)(r.Fragment,{children:b.filter((function(e){return e})).map((function(t,n){return p.test(t)?(0,r.jsx)(o.Z,c({},e,{variant:d,style:[{color:a.ZP.accentDark},y],children:t}),n):(0,i.createElement)(o.Z,c({},e,{variant:d,key:n,style:f}),t)}))})}},87510:function(e,t,n){var r=n(10058);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}var a=o({},r.$_,{accentDark:"#C04C36",brandLifestyle:"#FFE0C9"});o({},r.$_,{tintPrimary:"#0194F3"}),o({},r.$_,{tintPrimary:"#CDD0D1"});t.ZP=a},51690:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n(10058).$_,{accentDark:"#C04C36",tintPrimary:"#C04C36"});t.Z=i},62382:function(e,t,n){var r=n(74512),i=n(32735),o=n(5060),a=n(87904),l=n(6907),c=n(98194),u=n(5006),s=n(43404),d=n(67091);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e){var t=e.isCollapsed,n=e.onPress,l=e.defaultIsCollapsed,f=void 0===l||l,y=e.title,p=e.style,g=void 0===p?{}:p,v=e.contentContainerStyle,m=void 0===v?{}:v,x=e.headerStyle,j=void 0===x?{}:x,Z=e.headerTitleStyle,P=void 0===Z?{}:Z,C=e.contentStyle,D=void 0===C?{}:C,S=e.chevronStyle,w=void 0===S?{}:S,T=e.IconStart,O=void 0===T?null:T,k=e.children,I=e.refHandler,L=e.reduceMotion,V=void 0!==L&&L,R=e.testID,E=e.collapsiblePositionUp,M=void 0!==E&&E,N=e.initialChildrenHeight,A=void 0===N?0:N,U=e.headerWrapperStyle,_=e.chevronColor,B=(0,i.useState)(f),F=B[0],G=B[1],z=(0,i.useState)(0),H=z[0],W=z[1],X=(0,s.Fg)().color,$="boolean"===typeof t,Y=$?t:F;(0,i.useImperativeHandle)(I,(function(){return{toggle:function(){return b(!$,(function(){return G(!F)}))},setIsCollapsed:function(e){return b(!$,(function(){return G(e)}))},recomputeLayout:function(){}}}));var q,J=O?(q=O,i.cloneElement(q,{width:d.Z.spacing.l,height:d.Z.spacing.l})):null,Q={backgroundColor:X.lightPrimary},K={borderBottomColor:X.borderSubtle},ee={transform:[{rotate:Y?"0deg":"-180deg"}]},te={height:Y?A:V?"auto":H,transitionProperty:V?"none":"height",transitionDuration:"".concat(d.Z.animation.timing.instant,"ms")},ne={transform:[{translateY:Y&&!A?d.Z.spacing.s:0}]},re=void 0!==y?(0,r.jsx)(o.Z,{onPress:function(){"function"===typeof n&&n(),$||G(!F)},testID:R,activeOpacity:1,style:U,children:(0,r.jsxs)(a.Z,{style:[h.toggler,K,j],children:[J&&(0,r.jsx)(a.Z,{style:h.iconStart,children:J}),"string"===typeof y?(0,r.jsx)(u.Z,{variant:"ui-baseline",ink:"primary",style:[h.title,d.Z.typography.weightMedium,P],children:y}):(0,r.jsx)(a.Z,{style:h.title,children:y}),(0,r.jsx)(a.Z,{style:[h.chevron,ee,w],children:(0,r.jsx)(c.Z,{color:_||X.tintPrimary})})]})}):null,ie=(0,r.jsx)(a.Z,{style:[h.contentContainer,m,te],children:(0,r.jsx)(a.Z,{onLayout:function(e){return W(e.nativeEvent.layout.height)},style:[h.innerContent,ne,D],children:k})});return(0,r.jsx)(a.Z,{style:[h.wrapper,Q,g],children:M?(0,r.jsxs)(r.Fragment,{children:[ie,re]}):(0,r.jsxs)(r.Fragment,{children:[re,ie]})})}function b(e,t){e&&t()}var g={transitionProperty:"transform",transitionDuration:"".concat(d.Z.animation.timing.instant,"ms")},h=l.Z.create({wrapper:{overflow:"hidden"},contentContainer:{overflow:"hidden"},innerContent:y({},g,{padding:d.Z.spacing.m}),toggler:{flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",padding:d.Z.spacing.m,borderBottomWidth:d.Z.border.width.thin},iconStart:{marginRight:d.Z.spacing.s},title:{flex:1},chevron:y({},g,{justifyContent:"center",marginLeft:d.Z.spacing.s})}),v=function(e,t){return(0,r.jsx)(p,y({},e,{refHandler:t}))};t.Z=(0,i.forwardRef)(v)}}]);