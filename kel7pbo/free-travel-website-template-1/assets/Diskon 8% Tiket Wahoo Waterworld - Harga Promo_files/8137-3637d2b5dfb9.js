"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8137],{58137:function(e,r,t){t.d(r,{Z:function(){return Ze}});var n=t(5001),o=t.n(n),a=t(74512),u=(t(32735),t(17376));function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],u=!0,c=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(i){c=!0,o=i}finally{try{u||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if(!e)return"id-ID";if(e.includes("-")){var r=i(e.split("-"),2),t=r[0],n=r[1];return"".concat(t,"-").concat(n.toUpperCase())}return"".concat(e,"-ID")}var l=t(32829),f=t(7156),p=t(61260);function v(e,r){var t=e.req;if(t){var n=t.get("cookie")||"",o=(""!==n?l.parse(n):{})[f.Ab];return o?o.replace("_","-"):r}return(0,p.Z)("languageTag")}function d(e,r){var t=e.req;if(t){var n=t.get("cookie")||"";return(""!==n?l.parse(n):{})[f.Q5]||r}return(0,p.Z)("currencyCode")}function h(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function y(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){h(a,n,o,u,c,"next",e)}function c(e){h(a,n,o,u,c,"throw",e)}u(void 0)}))}}function b(){return m.apply(this,arguments)}function m(){return(m=y(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{locales:(0,p.Z)("locales"),currencyCode:(0,p.Z)("currencyCode"),currencies:(0,p.Z)("currencies"),allowedCurrencyCodes:(0,p.Z)("allowedCurrencyCodes")});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=t(21824),w=t(5639);function x(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function k(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){x(a,n,o,u,c,"next",e)}function c(e){x(a,n,o,u,c,"throw",e)}u(void 0)}))}}function P(e,r,t){return C.apply(this,arguments)}function C(){return(C=k(o().mark((function e(r,t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.getInitialProps){e.next=3;break}return a=r.displayName||r.name,e.abrupt("return",(0,w.y)("getInitialProps "+a,(function(){return r.getInitialProps(t,n)})));case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=t(35273),A=t.n(O),I=t(46637),j=t(37583),S=t(928),T=t(163),E=t(67113),Z=t(63247);function R(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function N(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){R(a,n,o,u,c,"next",e)}function c(e){R(a,n,o,u,c,"throw",e)}u(void 0)}))}}var _=new(t(96283).Z)({maxAge:6e4});function q(e){return U.apply(this,arguments)}function U(){return(U=N(o().mark((function e(r){var t,n,a,c,i,s,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null!==(t=(0,Z.Z)(r))&&void 0!==t?t:E.al,!_.has(n)){e.next=4;break}return e.abrupt("return",_.get(n));case 4:return a=(0,u.j)().resourceFallbackUrl,c=(0,u.j)().clientInterface,i="".concat(a,"/fc/").concat(n,"/web/").concat(c,".json"),e.next=9,fetch(i);case 9:if(200===(s=e.sent).status){e.next=12;break}return e.abrupt("return",{statusCode:s.status,success:!1,headers:Object.fromEntries(s.headers.entries()),error:new T.Hx("Non 200 response","API call failed with status code: ".concat(s.status),"Error: ".concat(s.statusText))});case 12:return e.next=14,s.json();case 14:return l=e.sent,f={statusCode:200,success:!0,headers:Object.fromEntries(s.headers.entries()),result:{data:{features:l.data}}},_.set(n,f),e.abrupt("return",f);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=t(24547);function L(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function M(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){L(a,n,o,u,c,"next",e)}function c(e){L(a,n,o,u,c,"throw",e)}u(void 0)}))}}var z={key:"feature-control",maxAge:A()("1 hour")};function H(e,r){var t=l.parse(e.req?e.req.get("cookie")||"":document.cookie)||{};return new S.Z(r,t)}function B(e){return F.apply(this,arguments)}function F(){return(F=M(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)(r,{domain:"content",method:"post",path:j.API_CONTENT_FEATURE_CONTROL,cacheOptions:r.req?void 0:z,payload:{data:{}}});case 2:if(!("error"in(t=e.sent))){e.next=12;break}return e.next=6,q(r);case 6:if(!("error"in(n=e.sent))){e.next=10;break}return D.Z.error("Failed to fetch feature control fallback",{req:r.req,err:n.error}),e.abrupt("return",{});case 10:return D.Z.info("Using feature control fallback",{req:r.req}),e.abrupt("return",$(n.result.data.features));case 12:return e.abrupt("return",$(t.result.data.features));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var r={};return Object.keys(e).forEach((function(t){var n;r[t]={enabled:"true"===e[t].enabled,properties:null!==(n=e[t].properties)&&void 0!==n?n:null}})),r}var K=t(42530);function Q(e){var r,t,n=e.locales.map(K.hv);return{clientInterface:e.clientInterface,currentRoute:e.currentRoute,featureControl:(r=e.featureControl,t=S.Z,(null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](r):r instanceof t)?e.featureControl:new S.Z(e.featureControl)),locale:n.find((function(r){return r.languageTag===e.languageTag})),locales:n,currency:e.currencies.find((function(r){return r.code===e.currencyCode})),currencies:e.currencies}}function W(e,r){var t=e.unifiedRoutes;if(!t)return!1;var n=t.find((function(e){var t=new RegExp(e.replace(/[*]/g,"(.*)"));return r.match(t)}));return Boolean(n)}function G(e){var r=e.isUnifiedRoute,t=e.clientInterface,n=e.config,o=e.currentRoute,a=o.pathname,u=o.protocol,c=o.routePrefix,i=void 0===c?"/":c;return r&&"desktop"===t?"".concat(u,"//").concat(n.url.desktopHost,"/")+i+a:"mobile"===t?null:"".concat(u,"//").concat(n.url.mobileHost,"/")+i+a}function J(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function V(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){J(a,n,o,u,c,"next",e)}function c(e){J(a,n,o,u,c,"throw",e)}u(void 0)}))}}function X(e,r){return Y.apply(this,arguments)}function Y(){return(Y=V(o().mark((function e(r,t){var n,a,c,i,s,l,f,p,v,d,h,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.j)(),a=t.clientInterface,c=t.locales,i=t.currentRoute,s=i.pathname,l=i.protocol,f=i.routePrefix,p=void 0===f?"/":f,v=i.host,d=W(n,s),h="".concat(l,"//").concat(v),y="".concat(l,"//").concat(n.url.desktopHost),b={metaTag:{metaRobots:null,canonical:y+"/"+p+s,mediaScreenTag:G({config:n,isUnifiedRoute:d,clientInterface:a,currentRoute:i}),hreflang:c.map((function(e){var r=e.languageTag.toLowerCase();return{url:h+"/"+r+s,locale:r}}))},schemaMarkup:null},e.abrupt("return",b);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=t(1309),re=t(19106),te=t(76302),ne=t(13158);function oe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ae(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],u=!0,c=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(i){c=!0,o=i}finally{try{u||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return oe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,r){if(void 0===e)return function(){};var t=ne.hrtime();return function(){var n=function(e){var r=ae(e,2);return(1e3*r[0]+1e-6*r[1]).toFixed(3)}(ne.hrtime(t));e.headersSent||e.append("Server-Timing","".concat(r,";dur=").concat(n))}}function ce(e,r){return(r?"/".concat(r):"/")+e}function ie(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function se(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){ie(a,n,o,u,c,"next",e)}function c(e){ie(a,n,o,u,c,"throw",e)}u(void 0)}))}}function le(){return fe.apply(this,arguments)}function fe(){return(fe=se(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function ve(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){pe(a,n,o,u,c,"next",e)}function c(e){pe(a,n,o,u,c,"throw",e)}u(void 0)}))}}function de(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function he(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){de(e,r,t[r])}))}return e}function ye(e){return be.apply(this,arguments)}function be(){return(be=ve(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)(r,{domain:"user",method:"post",path:j.API_USER_WHOAMI,payload:{data:{}}});case 2:if((t=e.sent).success){e.next=5;break}return e.abrupt("return",{loggedIn:!1,authorizationLevel:100});case 5:if(null!==(n=t.result.data).authorizationLevel){e.next=8;break}return e.abrupt("return",{loggedIn:!1,authorizationLevel:100});case 8:return e.abrupt("return",he({loggedIn:!0},n,{corporateUser:!1}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=t(13158);me.env.MOCK_API;function ge(e){if(!e.req||!e.req.get);}var we=t(44420),xe=t(85661);function ke(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Pe(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(T){return void t(T)}c.done?r(i):Promise.resolve(i).then(n,o)}function Ce(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){Pe(a,n,o,u,c,"next",e)}function c(e){Pe(a,n,o,u,c,"throw",e)}u(void 0)}))}}function Oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){Oe(e,r,t[r])}))}return e}function Ie(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function je(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],u=!0,c=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(i){c=!0,o=i}finally{try{u||null==t.return||t.return()}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return ke(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se={},Te=function(e){return{statusCode:e}},Ee=(0,ee.Z)();function Ze(e){var r=function(r){r.rawAppContext,r.resource;var t=Ie(r,["rawAppContext","resource"]);return(0,a.jsx)(e,Ae({},t))};return r.Page=e,r.abTestNamespaces=e.abTestNamespaces,r.getInitialProps=function(){var r=Ce(o().mark((function r(t){var n,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return ge(t),n=t.req,c=t.res,r.abrupt("return",(0,w.y)("withTravelokaPage",Ce(o().mark((function r(){var i,l,p,h,y,m,x,k,C,O,A,I,j,S,T,Z,R,N,_,q,U,D,L,M,z,F,$,K,W,G,J,V,Y,ee,ne,oe,ae,ie;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=(0,u.j)().clientInterface,p=(0,g.Z)(t),h=p.routePrefix,y=s(p.routePrefix),m=v(t,y),!n||!c){r.next=16;break}if(h||m===y){r.next=10;break}return c.redirect(ce(n.url,m.toLowerCase())),r.abrupt("return",Se);case 10:if(h){r.next=13;break}return c.redirect(ce(n.url,E.al)),r.abrupt("return",Se);case 13:if("en"!==h){r.next=16;break}return c.redirect(ce(n.url,"en-id")),r.abrupt("return",Se);case 16:if(!n||!c){r.next=20;break}!1,r.next=20;break;case 20:if(x="na",n&&c&&(x=t.res.locals.cspNonce,t.res.locals.isSSR=!0),!n||!c){r.next=25;break}return r.next=25,le(n,c,p.routePrefix);case 25:return k="function"===typeof e.routeProtection?{handler:e.routeProtection}:e.routeProtection,r.t0=je,r.next=30,Promise.all([b(t,y),B(t),(null===k||void 0===k||null===(i=k.config)||void 0===i?void 0:i.useSessionAPI)?ye(t):void 0]);case 30:return r.t1=r.sent,C=(0,r.t0)(r.t1,3),O=C[0],A=C[1],I=C[2],j=O.locales,S=O.currencies,T=O.currencyCode,Z=O.allowedCurrencyCodes,R=d(t,T),N=S.some((function(e){return e.code===R})),_=Z.includes(R),N&&_||(R=T,n&&c&&(0,we.B_)(n,c,f.Q5)),r.next=42,X(t,{languageTag:y,clientInterface:l,currentRoute:p,locales:j});case 42:if(q=r.sent,U="",n&&c&&(U=n.get("user-agent")||""),L={clientInterface:l,languageTag:y,currentRoute:p,locales:j,currencies:S,currencyCode:R,allowedCurrencyCodes:Z,seoData:q,cspNonce:x,featureControl:A,abTestNamespaces:null!==(D=e.abTestNamespaces)&&void 0!==D?D:[],userAgent:U},M=Q(Ae({},L,{featureControl:H(t,A)})),!n||!c){r.next=67;break}if(!k){r.next=61;break}if(!("path"in(z=k.handler(Ae({user:I,headers:n.headers},M))))){r.next=56;break}return F=z.path,$=z.routePrefix,K=void 0===$?p.routePrefix:$,W=z.status,G=void 0===W?302:W,c.set("tvlk-route-protected","true"),c.redirect(G,ce(F,K)),r.abrupt("return",Se);case 56:if(!(z.status>=400)){r.next=61;break}return J=z.status,c.set("tvlk-route-protected","true"),c.statusCode=J,r.abrupt("return",Te(J));case 61:if(!n||!c){r.next=67;break}if(j.some((function(e){return e.languageTag===y}))){r.next=67;break}return(0,we.B_)(n,c,f.Ab),c.redirect(n.url),r.abrupt("return",Se);case 67:return V=ue(c,"page-data"),r.next=70,P(e,t,M);case 70:return Y=r.sent,V(),ee=(0,re.K)(),ne=Ae({rawAppContext:L,resource:ee},Y),oe=ue(c,"resource-data"),r.next=77,(0,w.y)("resolveResource",(function(){return(0,te.Bt)((0,a.jsx)(xe.v2,{ctx:t,children:(0,a.jsx)(Ee,{Component:e,pageProps:ne})}),ee,t)}));case 77:if(oe(),!n||!c){r.next=84;break}if(!c.writableEnded){r.next=82;break}return r.abrupt("return",Se);case 82:(ie=null===(ae=Y)||void 0===ae?void 0:ae.statusCode)&&c.status(ie);case 84:return r.abrupt("return",Ae({rawAppContext:L,resource:ee.getData()},Y));case 85:case"end":return r.stop()}}),r)})))));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r.pageName=e.pageName,r}},96283:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(18172),o=t.n(n);function a(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){var r,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.maxAge=null!==(r=n.maxAge)&&void 0!==r?r:1e3,this.store=new(o())({maxSize:null!==(t=n.maxSize)&&void 0!==t?t:50})}var r=e.prototype;return r.get=function(e){this.refreshCache(e);var r=this.store.get(e);return r?r.value:null},r.peek=function(e){this.refreshCache(e);var r=this.store.peek(e);return r?r.value:null},r.set=function(e,r,t){var n={ttl:Date.now()+(null!==t&&void 0!==t?t:this.maxAge),value:r};return this.store.set(e,n)},r.has=function(e){return this.refreshCache(e),this.store.has(e)},r.delete=function(e){return this.store.delete(e)},r.clear=function(){return this.store.clear()},r.refreshCache=function(e){var r=this.store.peek(e);r&&r.ttl<Date.now()&&this.store.delete(e)},e}()}}]);